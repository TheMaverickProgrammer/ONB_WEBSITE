{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Tip Looking for mod resources? Visit RES > MODS . ABOUT # Open Net Battle (ONB for short) is a moddable, online, 2D game engine and tools. Create, share, and battle your own creations with others in free-play servers or skill-based servers with curated content and stories. It is maintained by talented people . DOWNLOADS # Item \ud83e\ude9f Win \ud83d\udc27 Linux \ud83e\udd67 Raspi \ud83e\udd16 Droid \ud83d\udcbe Url Client \u2714\ufe0f \u23f3 \u23f3 \u23f3 GET Server \u2714\ufe0f \u2714\ufe0f \u23f3 \u274c GET WebLauncher \u2714\ufe0f \u23f3 \u274c \u274c GET Debugger \u2714\ufe0f \u23f3 \u274c \u274c 2.5 only Tip First time? Read the Getting Started guide. FEATURES # Explore Build Folders Upgrade Stats Meet Characters Make Friends Custom Battles","title":"GET"},{"location":"#about","text":"Open Net Battle (ONB for short) is a moddable, online, 2D game engine and tools. Create, share, and battle your own creations with others in free-play servers or skill-based servers with curated content and stories. It is maintained by talented people .","title":"ABOUT"},{"location":"#downloads","text":"Item \ud83e\ude9f Win \ud83d\udc27 Linux \ud83e\udd67 Raspi \ud83e\udd16 Droid \ud83d\udcbe Url Client \u2714\ufe0f \u23f3 \u23f3 \u23f3 GET Server \u2714\ufe0f \u2714\ufe0f \u23f3 \u274c GET WebLauncher \u2714\ufe0f \u23f3 \u274c \u274c GET Debugger \u2714\ufe0f \u23f3 \u274c \u274c 2.5 only Tip First time? Read the Getting Started guide.","title":"DOWNLOADS"},{"location":"#features","text":"Explore Build Folders Upgrade Stats Meet Characters Make Friends Custom Battles","title":"FEATURES"},{"location":"credits/","text":"ORIGINS # Pheelbert 's SFML github project started everything. James collaborated with Pheelbert up to the first version of ONB which was also available on android . ONB exists today because of Pheelbert . TEAM # is the official team behind ONB 2.5. Engine Programmers # Alrysc James King Content Programmers # Alrysc D3str0y3d K1rbYat1Na Keristero Rune CI/CD # KanoYugoro Tooling Programmers # D3str0y3d James King Keristero Server Runtime Programmers # James King Community Management Team # Enzan Hooviey K1rbYat1Na Knight Forte Kuri Rune Sprite Artists # Enzan Kuri Quetzen TressaNightmaus Technical Writers # Alrysc James King Rune CONTRIBUTORS # Additional Programming # User Descriptions Commits Shadey#1685 CMake fixes for Archlinux Catgirl#4150 CMake fixes for case-sensitive file systems. Suppress GCC warning for non-const strings. 36018cf c640390 KanoYugoro SelectedCardsUI resolves overwritten properties. Delete Hand and Delete Cards status flag entries. 379082e 19e3d27 P0W3RK1D Created guide to build ONB on ARM64 device (Rasp Pi 4) Additional Art # User Descriptions Commits Caos Server icons and badges Rune Supplied missing font sets: numbers and codes. Massive battle tile recreations from all game titles. FireHead Engine Cyrillic fonts afb011a Catgirl#4150 User role icon edits. 758e328 Kuri New chip cust GUI assets. New minimap art. Enzan All new PET menu art and mockups. Tressa Incredibly accurate custom tilesets. Additional Audio # User Descriptions Commits K1rbYat1Na Volume adjustments for all sfx. c8fb2e0 Enzan PET boot sfx and background music for new screens. Honorable Mentions # User Description Pion Wrote and hosted the first, best online documentation for ONB modding. Keristero His suite of EZ lib server libraries are still the go-to solution for content creators today. K1rbYat1Na If there's an authentic chip remake, chances are he made it. He made a LOT! loui If there's an authentic enemy (including families), chances are he made it. D3str0y3d255 If there's a playable boss or navi mod, chances are he made it. Alrysc Pushed ONB scripting to its technical limits making unbelievable custom mods. Hooviey Pumped out a lot of authentic, custom, and Shanghai.EXE mod content! Rune Made a lot of official BN3 and BN6 chips and enemies! Tressa Made very accurate navi assets for the community. IndianaJson Wrote a tool to generate collision maps from images. Collaborated with James King to make crowd sims possible. milkkkkkkk Made the coolest mod listing website. TRANSLATIONS # User Language Mint Spanish Caos Portuguese K1rbYat1Na Russian BlaXun German Enzan German COMMUNITY # Shout outs to these community contributors. Note If you don't see yourself on this list but have contributed directly to ONB before, reach out to James on discord! Augatillo Beaned BlaXun Claris CosmicNobab Dunstant FrozenLake Gemini Gray Nine Konstinople Kuri Mars Mint OuroYisus Poly SCA Salad Shale SusThor Weenie Yaz_ Zeek jontheburger members of the official ONB discord ... AND YOU!","title":"WHO"},{"location":"credits/#origins","text":"Pheelbert 's SFML github project started everything. James collaborated with Pheelbert up to the first version of ONB which was also available on android . ONB exists today because of Pheelbert .","title":"ORIGINS"},{"location":"credits/#team","text":"is the official team behind ONB 2.5.","title":"TEAM"},{"location":"credits/#contributors","text":"","title":"CONTRIBUTORS"},{"location":"credits/#translations","text":"User Language Mint Spanish Caos Portuguese K1rbYat1Na Russian BlaXun German Enzan German","title":"TRANSLATIONS"},{"location":"credits/#community","text":"Shout outs to these community contributors. Note If you don't see yourself on this list but have contributed directly to ONB before, reach out to James on discord! Augatillo Beaned BlaXun Claris CosmicNobab Dunstant FrozenLake Gemini Gray Nine Konstinople Kuri Mars Mint OuroYisus Poly SCA Salad Shale SusThor Weenie Yaz_ Zeek jontheburger members of the official ONB discord ... AND YOU!","title":"COMMUNITY"},{"location":"faq/","text":"How did this start? # A BattleNetwork fan in his child-hood, James King started building a battle engine after playing the Chrono X fan game in the summer of 2019. Originally contributing upstream to Pheelbert's project , James was given Pheelbert's blessing to continue on the project and it became something quite ambitious beyond the original scope. Since then, James has been the primary programmer and project leader. Who else is involved? # Years have passed and the project exploded in growth and now has an active community with thousands of members. There are many, very cool people who have phased in and out, contributing to the project as a whole. And some have continued to make a lasting, positive impact on the project to this day; they are . For the full list of those very cool people, visit the credits . Is this a full game? # Not exactly. This is a custom game engine but has many features implemented and could be described as a small MMO. The engine can be used by anyone to create their own games for many platforms. Can I copy the engine? # James has a predilection for teaching others and enjoys helping people learn new things. His background as a comp. sci tutor is a testament to that. ONB is intended to be a fun experience where others can learn from and even help eachother. Tip While the code is open source and is technically free to all to use, copying the project with the intent to divide the community or publish the work as one's own is not ethical. Follow the example set by James and Pheelbert by contributing back to upstream if you are improving upon the engine. Collaborate - don't aggravate . This helps make ONB a better experience for everyone. If your work is truly derivative and indistinguishable , then give credit where credit is due in your project to James King and . Show respect to those who paved the way for you. Can ONB run on X? # The engine is custom and so it could be built for proprietary devices like the switch. James builds primarily for Windows but wants to deploy for the web as well. Deployment Targets # Windows Linux Android Raspberry pi iOS What chips are there? # Some people have already recreated content from the original games. Very cool people have created their own chips. Will chips be rebalanced? # Scripting will allow the community to tweak chips to be more PVP friendly. Can I make my own X? # The engine as it stands allows you to make your own navis, chips, enemies, bosses, tiles, overworld maps, ...really anything. With scripting you can make your own content easier and share it with the world. How do I script? # The engine uses Lua 5.1+ to make mods. Visit Modding to learn how to start. I want a real PET! # This isn't a real question but we do too. There are some cool engineers in the ONB community who are collaborating to put the Client into a PET case in order to make the real thing. How can we donate? # James will not accept payments, donations, bribes, or blackmail. For legal reasons this project is free and source code is available online at github. Contributing directly to the engine with C++ code will be a thankless job. James will reject any contributed C++ code with monetary backing and will continue to refuse donations and work freely. Who owns ONB? # ONB's modding scene is community-oriented. Volunteers help manage aspects of the community. is currently led by the primary coder James King. He will select the next leaders from volunteers. ONB will continue to exist and thrive for as long as good people are willing to work together in order to make that happen. When will ONB complete? # ONB 2.5 already contains many long awaited features and more than originally estimated. This means 2.5 is prototypically the last version, with 3.0 having been polished and deploying to more devices as intended. For a passion project at this scale, there is no realized \"end date\". If a date is determined, it will be announced. TL;DR It will be out when it's out.","title":"FAQ"},{"location":"faq/#how-did-this-start","text":"A BattleNetwork fan in his child-hood, James King started building a battle engine after playing the Chrono X fan game in the summer of 2019. Originally contributing upstream to Pheelbert's project , James was given Pheelbert's blessing to continue on the project and it became something quite ambitious beyond the original scope. Since then, James has been the primary programmer and project leader.","title":"How did this start?"},{"location":"faq/#who-else-is-involved","text":"Years have passed and the project exploded in growth and now has an active community with thousands of members. There are many, very cool people who have phased in and out, contributing to the project as a whole. And some have continued to make a lasting, positive impact on the project to this day; they are . For the full list of those very cool people, visit the credits .","title":"Who else is involved?"},{"location":"faq/#is-this-a-full-game","text":"Not exactly. This is a custom game engine but has many features implemented and could be described as a small MMO. The engine can be used by anyone to create their own games for many platforms.","title":"Is this a full game?"},{"location":"faq/#can-i-copy-the-engine","text":"James has a predilection for teaching others and enjoys helping people learn new things. His background as a comp. sci tutor is a testament to that. ONB is intended to be a fun experience where others can learn from and even help eachother. Tip While the code is open source and is technically free to all to use, copying the project with the intent to divide the community or publish the work as one's own is not ethical. Follow the example set by James and Pheelbert by contributing back to upstream if you are improving upon the engine. Collaborate - don't aggravate . This helps make ONB a better experience for everyone. If your work is truly derivative and indistinguishable , then give credit where credit is due in your project to James King and . Show respect to those who paved the way for you.","title":"Can I copy the engine?"},{"location":"faq/#can-onb-run-on-x","text":"The engine is custom and so it could be built for proprietary devices like the switch. James builds primarily for Windows but wants to deploy for the web as well.","title":"Can ONB run on X?"},{"location":"faq/#what-chips-are-there","text":"Some people have already recreated content from the original games. Very cool people have created their own chips.","title":"What chips are there?"},{"location":"faq/#will-chips-be-rebalanced","text":"Scripting will allow the community to tweak chips to be more PVP friendly.","title":"Will chips be rebalanced?"},{"location":"faq/#can-i-make-my-own-x","text":"The engine as it stands allows you to make your own navis, chips, enemies, bosses, tiles, overworld maps, ...really anything. With scripting you can make your own content easier and share it with the world.","title":"Can I make my own X?"},{"location":"faq/#how-do-i-script","text":"The engine uses Lua 5.1+ to make mods. Visit Modding to learn how to start.","title":"How do I script?"},{"location":"faq/#i-want-a-real-pet","text":"This isn't a real question but we do too. There are some cool engineers in the ONB community who are collaborating to put the Client into a PET case in order to make the real thing.","title":"I want a real PET!"},{"location":"faq/#how-can-we-donate","text":"James will not accept payments, donations, bribes, or blackmail. For legal reasons this project is free and source code is available online at github. Contributing directly to the engine with C++ code will be a thankless job. James will reject any contributed C++ code with monetary backing and will continue to refuse donations and work freely.","title":"How can we donate?"},{"location":"faq/#who-owns-onb","text":"ONB's modding scene is community-oriented. Volunteers help manage aspects of the community. is currently led by the primary coder James King. He will select the next leaders from volunteers. ONB will continue to exist and thrive for as long as good people are willing to work together in order to make that happen.","title":"Who owns ONB?"},{"location":"faq/#when-will-onb-complete","text":"ONB 2.5 already contains many long awaited features and more than originally estimated. This means 2.5 is prototypically the last version, with 3.0 having been polished and deploying to more devices as intended. For a passion project at this scale, there is no realized \"end date\". If a date is determined, it will be announced. TL;DR It will be out when it's out.","title":"When will ONB complete?"},{"location":"get_started/","text":"Get Started Guide # todo","title":"Get started"},{"location":"get_started/#get-started-guide","text":"todo","title":"Get Started Guide"},{"location":"hardware/","text":"TOPICS # Since its conception, ONB has been developed with low-end and embedded devices in mind as a first-class deployment target. ONB Client can be built with configurations to reduce the resource requirements needed to run smoothly on less performant hardware. Additional programs can cross-communicate with the Client to expand on the experience. Choose one of the hardware options below which best describes your interest with ONB integration to learn more. Options # ONB Link Gate EXTERNAL DEVICES # ONB Client listens to an external hardware's IP address by the flag -x . This flag stands for E x ternal Device. Any remote program can be an External Device and it uses a fairly simple protocol. Note Protocols are only available for 2.5+ clients. Packets # The packets are identified by a leading byte. /* Utility [0x01 - 0x05] */ u_draw_group_flags = 0x01 , u_frame_skip, u_frame_resume, u_debug_origin, u_log_level, /* Gamepad [0x06 - 0x11] */ gp_left, gp_right, gp_up, gp_down, gp_lshoulder, gp_rshoulder, gp_select, gp_start, gp_btn_a, gp_btn_b, gp_btn_x, gp_btn_y, /* Game Elements [0x12 - 0x18] */ ge_set_reg_mem, ge_set_player_health, ge_set_player_max_health, ge_set_player_speed_level, ge_set_player_charge_level, ge_set_player_attack_level, ge_set_player_money, /* Chip Gate [0x19] */ cg_send_uuid, /* Response Codes [0x1A - 0x1B] */ rc_log_data, rc_frame_status, Note The packet is identified by the External Device Packet Processor in a background thread - or if running ONB Client single-threaded: before the next frame paints to the screen. Utilities # The utility packets are identified by leading byte values 0x01 to 0x05 respectively. Values for u_draw_group_flags # todo Values for u_log_level # <-------- 16 bytes ---------> | | | | 8-bit ID | 8-bit value | | | | todo Values for u_debug_origin # A 16-bit packed RGB color value. A non-zero color will display and colorize origin cross-hairs on all sprite nodes rendered on screen. This is useful for debugging graphics. <-------- 16 bytes ---------> | | | | | 3b R | 3b G | 2b B | | | | | Values for u_frame_skip # Any non-zero 16-bit value is evaluated to true for this event and ONB Client will stop advancing the internal clock. This is useful for debugging the client. Every subsequent u_frame_skip packet will advance the client's frame by one. Values for u_frame_resume # Any non-zero 16-bit value is evaluated to true for this event and ONB Client will resume the internal clock normally. Gamepad # The gamepad packets are identified by leading byte values 0x06 through 0x11 respectively. These packets have the following anatomy: <--------------- 24 bytes ----------------> | | | | | 8-bit ID | 16-bit value | | | | | Values # Any non-zero 16-bit value is evaluated to true for this event and ONB Client will transform the value into a button pressed event. Consecutive packets will prolong the pressed event and the Client will transform those events to held events. Once these packets are no longer received, the Client will transform these buttons into one frame of released events. Game Elements # The game element packets are identified by leading byte values 0x12 to 0x18 respectively. These packets have the following anatomy: <--------------- 24 bytes ----------------> | | | | | 8-bit ID | 16-bit value | | | | | Values # The 16-bit value will be applied directly to the Client's active Player Session for that field. This is useful for debugging custom games or severs. ONB Link Gate # The Link Gate packets are identified by the byte 0x19 . These packets have the following anatomy: <-------------- 8 + N bytes ---------------> | | | | 8-bit ID | N-bit null-terminated str | | | | That is, the value can be variable in size. Values # The value part of the packet is variable in size because strings can be of arbitrary length. That is to say the multi-byte character string is read to the end of the packet and interpretted as a chip ID. If the Client has the corresponding chip mod loaded in memory, a Card construct will be placed in the net navi's hand during Battle. Response Codes # The response code packets are identified by leading byte values 0x1A to 0x1B respectively. These packets are send from Client to the connected External Device. Therefore, the Client will never read these packets. Values for rc_log_data # This packet contains log data to display inside the ONB Inspector tool. Values for rc_frame_data # This packet contains battle frame data for auditing battles and debugging possible desyncs.","title":"Hardware"},{"location":"hardware/#topics","text":"Since its conception, ONB has been developed with low-end and embedded devices in mind as a first-class deployment target. ONB Client can be built with configurations to reduce the resource requirements needed to run smoothly on less performant hardware. Additional programs can cross-communicate with the Client to expand on the experience. Choose one of the hardware options below which best describes your interest with ONB integration to learn more.","title":"TOPICS"},{"location":"hardware/#external-devices","text":"ONB Client listens to an external hardware's IP address by the flag -x . This flag stands for E x ternal Device. Any remote program can be an External Device and it uses a fairly simple protocol. Note Protocols are only available for 2.5+ clients.","title":"EXTERNAL DEVICES"},{"location":"mods/","text":"ONB DOCS # The Lua scripting language is used to make content for ONB. To get started making your own creations, visit these community-created online docs: Latest ONB 2.1 Docs by Alrysc. ONB 2.0 Docs by Pion.* Pion's docs are very rich in detail about how the engine works and is valuable reference material. Note Official documentation generated by in-house tools in progress . GET MODS # Open Net Battle is a decentralized community where anyone and everyone can host, share, and create their own mods. This means there is no official repository for ONB mods, but very cool people in the community have made and hosted their own solutions. Caution These websites are not affiliated directly nor managed by the ONB Team and you are advised to visit and download mods at your own discretion. Keristero Milk PET GET ASSETS # While not mods by the technical definition, these assets can replace client assets or be dropped directly into an ONB server with minimal integration. IndianaJson","title":"Mods"},{"location":"mods/#onb-docs","text":"The Lua scripting language is used to make content for ONB. To get started making your own creations, visit these community-created online docs: Latest ONB 2.1 Docs by Alrysc. ONB 2.0 Docs by Pion.* Pion's docs are very rich in detail about how the engine works and is valuable reference material. Note Official documentation generated by in-house tools in progress .","title":"ONB DOCS"},{"location":"mods/#get-mods","text":"Open Net Battle is a decentralized community where anyone and everyone can host, share, and create their own mods. This means there is no official repository for ONB mods, but very cool people in the community have made and hosted their own solutions. Caution These websites are not affiliated directly nor managed by the ONB Team and you are advised to visit and download mods at your own discretion. Keristero Milk PET","title":"GET MODS"},{"location":"mods/#get-assets","text":"While not mods by the technical definition, these assets can replace client assets or be dropped directly into an ONB server with minimal integration. IndianaJson","title":"GET ASSETS"},{"location":"resources/","text":"MODS # Documentation, assets, and mod sites. GO TO MODS PAGE. SOFTWARE # Tools and source code. GO TO SOFTWARE PAGE. Note Public source code will be updated when 2.5 is stable and ready. HARDWARE # Protocols and guides. GO TO HARDWARE PAGE.","title":"RES"},{"location":"resources/#mods","text":"Documentation, assets, and mod sites. GO TO MODS PAGE.","title":"MODS"},{"location":"resources/#software","text":"Tools and source code. GO TO SOFTWARE PAGE. Note Public source code will be updated when 2.5 is stable and ready.","title":"SOFTWARE"},{"location":"resources/#hardware","text":"Protocols and guides. GO TO HARDWARE PAGE.","title":"HARDWARE"},{"location":"software/","text":"CLIENT # GET . ONB Client is the engine and run-time for custom content. It aims to be feature-rich with scriptable content and dynamic online playability. Note This is a video for 2.5 which is in private development. SERVER # GET . ONB Server is the content-delivery program and run-time for online content. Program using Tiled level editor. ... or script directly with Lua. WEB LAUNCHER # GET . ONBWEL (\"Owen-be-well\") launches web URLs from the browser in ONB. This tools allows you to launch HTML links from your browser to servers and web battles online. DEBUGGER # WIP. ONB Inspector is a custom remote debugging tool for the Client. Note This is a tool for 2.5 which is in private development. In older ONB Clients, a debug console window would popup at launch. This is no more. Now, custom debug tool allows creators to filter and search through logs in a comfortable and convenient user interface. Users will be able to toggle layer visibility in the new 2.5 renderer. Other tools are available to inspect frame data.","title":"Software"},{"location":"software/#client","text":"GET . ONB Client is the engine and run-time for custom content. It aims to be feature-rich with scriptable content and dynamic online playability. Note This is a video for 2.5 which is in private development.","title":"CLIENT"},{"location":"software/#server","text":"GET . ONB Server is the content-delivery program and run-time for online content. Program using Tiled level editor. ... or script directly with Lua.","title":"SERVER"},{"location":"software/#web-launcher","text":"GET . ONBWEL (\"Owen-be-well\") launches web URLs from the browser in ONB. This tools allows you to launch HTML links from your browser to servers and web battles online.","title":"WEB LAUNCHER"},{"location":"software/#debugger","text":"WIP. ONB Inspector is a custom remote debugging tool for the Client. Note This is a tool for 2.5 which is in private development. In older ONB Clients, a debug console window would popup at launch. This is no more. Now, custom debug tool allows creators to filter and search through logs in a comfortable and convenient user interface. Users will be able to toggle layer visibility in the new 2.5 renderer. Other tools are available to inspect frame data.","title":"DEBUGGER"},{"location":"changelogs/two_point_five/","text":"2.5 CHANGELOG # There were many sleepless nights, long weekends, and multiple refactors of the ONB engine from version 2.0 . Huge thanks to team-member, Rune, for documenting the incremental changelogs during development so that we can present them here. Note This is a living document. Expect more changes to be added over time until 2.5 is released. Efforts were made to preserve many of the scriptable API behavior while improving what was already available. Fixing some bugs revealed new issues and etc. Finally, the changelog reveals what has changed from the last public release to the grand 2.5 version of ONB. Tip The items marked SECRET are supposed to be surprises and as such will not be mentioned in any form of publicity even after a short time after the release of 2.5 in order to maximize fun for everyone. Fixed missing local session code saving/restoring prog blocks. Fixed a logic issue in navi cust scene when inserting blocks into the grid. Fixed crash while changing forms in the middle of a chip. Old code revealed animations were updating during draw and this queued graphics to be drawn which were later deleted when the transformation completed on a given frame. Dark card effect properly dimming everything but mob health and card art. Added default draw bits to card attachments and player form attachments. This required bumping all layer codes by 1 to support an unset state. Fixed many more issues with player sessions and folders which resulted in a partial rewrite. The sessions now switch between local and server without overwriting or affecting eachother. Chip pool is also respected. Moving chips out of your pool will reduce the pool and these changes are tracked for that session. Server mode settings: A) World B) Game Game mode can have a title screen and splash MiniGameFramework (MGFW) started. All servers should be able to provide an optional loading screen So people aren't just staring at a black loading screen A temp \"solution\" is in atm but MGFW would be more robust. In Folder Edit: the / character is incorrect. e.g. 10930 instead of 10/30 . Animated navi previews Introduced @node attribute for ONB and boomsheets Users can use nodes for eyes and multiple independant parts. Limited supported scenes only (at the moment) mugshots navi preview Renamed SyncNodeHandle to SpriteGraph . We can support multiple nodes for the same animation. There needs to be two types of ways to initialize a \"SyncNode\": create_sync_node(point) 1. references the SAME animation as the entity. No copies. create_sync_node_new_anim(point, anim) 1. Provides a node its own animation file. This is ideal for sync nodes using completely different animations than the entity to which it is bound. Bugfix: cust_gauge_max_time returns the default ma1. time if a custom ma1. time has not yet been provided. Patch lua print to support variadic args. Bugfix: CardAction.on_action_end_func did not run in time freeze. Added a new lua API for HitProps . The old code will still work. The new API will look like this: local props = HitProps . new ( user : get_context ()) Or created manually: HitProps . new () props : with_flags ( Hit . Confuse | Hit . PierceInvis | Hit . PierceGuard | Hit . PierceGround ): cooldown ( frames ( 2 )) confuse_atk : set_hit_props ( props ) You can also chain off of HitProps.new() local props = HitProps . new (): add_flag ( Hit . Confuse ) : cooldown ( frames ( 2 )) Notice there's :with_flags(...) and :add_flag(...) . The former overwrites all at once. The latter can help format and add one at a time. Patched status animations restarting when statuses are applied on that frame. Status animations (confused, blind, etc.) will continue to play if they were already playing even on subsequence status applications. DefenseFrameStateJudge had unused block_impact and is_impact_blocked functions. It was repurposed and is now block_collision and is_collision_blocked . A new check for if judge.is_collision_blocked is true now occurs after DefenseOrder::always defense rule types. Bugfix: Using Keristero's Guard mod, when using it and changing forms, confirmed that the end_action callback is correctly executed. PlayerForms now support set_description(str) . Battle background .anim files now support @scroll left, top, frames attribute. This attribute will overwite the velx and vely parameters in the scripted mob lua function set_background . Additionally, these two fields are now optional in lua and default to 0 if not provided. mob:set_background(texture_path, anim_path, velx?, vely?) . Similarly applied changes and exact behavior for scripted cards in lua which use animated background images. Changing the charge table in lua now immediately applies the new values to the charge component. Bugfix: A drag event's last realized step applies endlag. Sea tiles add a +30 on aqua chips. Feat: Mobs can replace the battle tiles with a custom thematic tileset. Card damager modifier changes: ... now takes an ID string in lua to identify the modification. ... can be cleared the same way. ... changes the value by id iff different from the last value. Tile rule TileRules.SeaBonusCheck added. If chip can_boost is false damage number and multiplier are hidden. Player.is_charging returns false if not charging buster, true otherwise. Sea panels also tick like poison for Fire characters. Bugfix: Weird shader effects in battle start at times for characters Added Entity LOC into the RenderData table and made correct calls to refresh and re-apply the shader. Removed all built-in background types except for Lan and Grid. This means you must provide your own backgrounds in servers or mods from here on out. Backgrounds use tickrate for pixel-perfect scrolling behavior. To add scrolling, add @Scroll left=p1. right=p1. frames=count to your animation files for the background. The lua API for setting a background is now just set_background(texture_path, anim_path) TiledMaps no longer read Velocity properties. Simply include the attribute to your animation file for servers. Bugfix: Rainbow does not animate in NaviCust scene, or Status screen. Bugfix: Can't leave folder until I set a REG chip. Feature: Prevent backslashes to user name in config screen. Bugfix: Having one item left in the navi cust makes the RUN button disappear when you select it. Bugfix: Chip with + Damage is reset by navi who can charge on the first frame of battle Feat: chip charging can replace a chip's action. Feat: Tag chip support and data. The engine should have a keyboard capture status so that pressing 0 key while in textbo1. does not reboot on you. Invalid cards forever when you run out of chips fix. Make special chars a lua property instead of a function. Viewing an invalid card in the folder caused a crash fix. Tagged chip pair not showing up fix. If you have 30 chips and dont make an edit you can't leave FIX (AGAIN!). Remove remaining pointers in recent chip cust refactor. Provided way to do warpstep bug. If I make a change to my config controls and save, the soft reset does not respect my changes. Guaranteed frame-perfect key presses even during frame step on both single threaded and multithreaded modes. Ability to determine if an entity is a local player or not (for exclusive sounds). Added new optional custom property \"Warp Out\" which defaults to true if not specified, but if set to false it triggers the handler without warping the player out automatically. Tip This allows anyone to use custom warps for literally any kind of warping and to do custom animations. Add additional elements: Recov , PanelDestruction , Invisible . Allow player.on_pre_move_func() to return nil as a no-opt. When nil is returned, there is no animation + no movement. Buster hit sound only plays on attack, not collision check 1. this allows guard to play *TING* correctly. Added ability to swap out with human character for overworld segments. Custom jack-in animation. Play buster hit sf1 on attack_func . Currently it is on hit which could be blocked by Guard/Defense Rules. From Kirby: All panels animate during pause and other states. Magma panels dissapear after 980 frames. Bugfix: Magma tiles deal null damage now (previously fire). Thanks Kirby! From Kuri: They supplied custom chip cust graphics and the following information: Patched everything to do with forms and form customization: When opening the forms, the cursor is a frame late to reposition to the top After selecting a new form, the 1st frame of being open, the forms are not in the right place the 4th selected chip is underneath the chip lock sprite or missing entirely Form transformation timing is not correct 20 frames pass 21st frame, it starts to turn white 9 frames to become fully white 9 frames to fade out Pop in the health and emotion UI to the original top-left position and to the cust select widget during animations Bugfix: The frame that an entire team is deleted, should results in all other entities receiving 0 damage and no status effects. Battle.is_local_player(e) -> rename to the audio explicit version to prevent desyncs Renamed to Battle.play_audio_for_player_or_default(sound1, sound2, priority) . Add Lua function for anims .refresh() and .update() these functions dont explicitly need a sprites anymore either. Provide this option. Lua to add/remove nodes to tiles This way \"custom\" tiles can blink with the parent tile PlayerMeta.set_charged_attack_level() is now -> .set_charge_level() Add new API to Game.cpp to fetch the renderer to perform programmer-defined functions Currently the RenderOptions list is useful. getController()->getRenderer<MyCustomCustomer>()->doCustomFunction(); Added Swoosh support for non-renderer events. Swoosh can now send data back to the next scene when called via pop() or rewind() ! Added dark hole. SubChip renamed to SubItem . SubItems have a category group for the Head , Body , and Shoes placement. SubItems with the same category will ask to overwrite the active spot. SubItems have a new activateOnUse field which, when true, places the item in the active spot client-side. (C++) SubItems are cleared at the end of a session. SubItems have an event that sends to the server. Emails have an event that sends to the server. Added SubItemAdd packet which was missing. Added SubItemActivate(subitem_id, active) to toggle the active subitem if applicable (C++) OverworldSceneBase class has a new OnSubItemConsumeEvent() to handle network callbacks in the online area scene. Feat: API for sending chip data for after battles. Feat: API sending other battle reward types (health, monies, bits, etc.). Min and Max Emblem Size were 15x15. Size restrictions removed entirely. Added a way to get viewport boundaries in screen/world space from Engine: Engine.get_viewport_size(): {x=width, y=height} Similarly, added way to get tile from worldspace/screenspace point coordinates: field:tile_from_pixels(x, y) Potentially fixed overworld collisions from allowing pixel-perfect diagonal crossing with a custom tri-leg algorithm approach. KeyItemScene textbox scale issue fixed. Bugfix: removed red tag when no cards and no reg. Bugfix: Empty folder (and end of the folder) clears the codes from being visible. Bugfix: Giga class cards are no longer default when folder is empty. Moved multiplier out of SelectedUI widget to the chip properties as the new x2 field When x2 is true , damage is doubled only once. When x2 is false , damage is halved if ever doubled. Noted that the OnHit callbacks were never executed if props.damage <= 0 , so I took out those redundant checks IN the callback handler routine. Kano moved the card_delete and hand_delete hit props resolution to the base entity class. Card UUID property is now read-only. Components now have a is_timefrozen() function for components attached to an entity. Adjusted card damage modifier graphics on all states that print the modifiers based on the source material. Camera packets that shake with intensity or duration of zero (0) will stop the shake effect. Entities in battle can call stop_camera_shake() to also end the camera shake effect. SECRET . SECRET . SECRET . SECRET . Engine support @loop attribute everywhere for anims. @loop start=x, end=y . Overworld supports @on_move_change for anims and only has two types of keys: reverse and forward . SECRET . Added lua bindings to tickrate struct: tickrate.new(units: int, delay: uint = 0) . Fields: units, delay. The only function: digest(frames: frametime) -> int . Anim method set_playback_speed() now takes in tickrate to support frame delays (sub <1 frame per tick speeds). Added an overload for set_playback_speed() to take in frametime for compatibility with olds mods. Anim method get_playback_speed() likewise returns tickrate . Updated function signature: Explosion.new(count: int, speed: tickrate) . Bugfix: SECRET . Added optimization to animations so that cpu cycles for long-looping animations should stablize. Ensured new \"loop points\" for overworld animations are working. See: Megalo_player_GyroMan.zip from D3str0y3d. Bugfix: UI layer updates and draws itself on the correct frame as expected. Feat: Server can now see what Cust Parts the client has installed for the current player mod: Server can now see this event with Net.on('progblocks_upsert', event) event = {player_id, [pool], [active]} pool = {id, quantity} active = id, form?, color: string? center? rotates? compiled? form = [bool; 15] Send whether or not a piece was on the compile line compiled . Fix the cursor alignment math when grabbing a bloc. Feat: GameSession is now the source of truth for the player's stats in the engine. Bugfix: Regression: Blocks are not inserting intro the grid after rotations correctly Bugfix: Regression: Thread-friendly input consumers (frameskip, fullscreen, etc.) no longer work. Bugfix: Regression: Fullscreen toggle in multithreaded mode crash. Feat: -f or --fullscreen flags supported from console launch. Bugfix: First-time fresh boot of client doesn't load any resources from mods and crashed in Navi Select. Bugfix: Tweaked charge effect animation. Bugfix: Battle.play_audio_for_player_or_default(...) crash fix. Bugfix: Running out of cards now correctly erases the card icons from their slots. Feat: SECRET . Bugfix: Fix stair layer ordering regression with new renderer in overworld. Feature: During chip select, added a callback function on the hover card state to take in the player and mutate chips in the deck. e.g. Maramusa. CardBuilderTrait.on_update -> CardBuilderTrait.on_tick . card_on_tick(actor, props) for the lua mod, runs every frame tick during the Cust Selection Battle state. GUI caches damage value when it makes a new chip selection and draws this cached value like the games. print_uncertain_damage renamed -> is_mystery_damage . ALL next cards (top-most card) in a Player 's hand will now call cards_on_tick during combat as well. Patch: Buster max charge time can never be less than zero + hard-coded 10 frames of startup delay. Debug flag added to external device processor to draw sprite origins with color. This used used in the ONB Inspector tool. Migrated all and partially rewrote player session data pertaining to folders into a new FolderRecords struct. This struct now has additional properties for the player's current session: folderLimit , canCreate , canEdit , canEquip , forceEquip The server can send these events and the client reads these values. Renamed lua sprite methods set_layer to set_draw_priority which is more accurate now. This change was also made in the C++ code. New set_draw_bits represents the group + order info used by the retro renderer to retarget sprites and object sprites. Method signature set_draw_bits(unsigned int group, unsigned int destLayer) . destLayer is optional! Groups: Background = 0 Floor = 1 Object = 2 Attack = 3 Effect = 4 Misc = 5 Destination Layers are just Groups . This is to retarget object sprites and can be omitted. Feat: Support sprite flipping at the node class and remove other implementations. Completed goal: Alpha mod shows that GBA layering is correct when flipping screen. Feat: status_cooldown: frames field added to hitbox props. Bufix: Restored freeze on ice panel when hit with water elements. Bugfix: Restored cancel ice at EOF when hit with true breaking. Feat: Optimized Field and Tile class iterations per tick. Lua anim object has a new set_keyframe(index, sprnode?) function. Added complementary get_keyframe_index(): int to lua anim objects. Feat: Server can now overwrite player folder session traits and permissions. Feat: When using the link gate, the chip no longer auto-fires (manual activation). Feat: You can now select a chip from the pool for overworld games. You can configure the event name, the types of chips that are allowed, the number of chips, etc. Streams live logs to the registered external device (e.g. ONB Inspector tool) if ran with -d flag Feat: No more console window. The debugger tool is now optional. Feat: camera zoom is enabled for a map for PC players via PgUp and PgDn . Feat: Rewrote tile rendering and added camera-culling! Strictly tiles in view of the camera are drawn. Culling Layer special effects. Link 1 . Link 2 . Complete control of each tile. Link 1 . Feat: Server can overwrite/set/get Tag mem, Reg mem, and Card Limits. Bugfix: Textbox responds to text escape codes properly (e.g. mute, slow, speed up). Feat: Added Layer 0 wiggle support. Feat: \"Fragments\" info section appears in menu only when fragments > 0 . Bugfix: Characters which were not spawned by the mob spawner could not properly use timestop actions (the action does not execute, and does not freeze time). Bugfix: Player FinishConstructor() function should overwrite shoot, swing, throw, and flinch animations too. Flinch frame was overwriting non-existent entries, resulting in less frames to complete. This was unfair. Ensured overwrites generate valid anims that wait for duration specified. Feat: Server API for creating, updating, equipping, etc. folders: Client had to change from taking in a string to requiring a position index, starting at 1 . This resolved most of the remaining known permission syncing issues. Bugfix: Fixed the remainder of permission issues using wrong bitwise math. Bugfix: Fixed Net.write_player_folder() API. All codes were being overwritten to 0 . Bugfix: Fixed Net.inc_player_card_pool() and Net.dec_player_card_pool() API. Same problem as write_player_folder() as well plus the signature changed in rust but had not in lua. Sig: Net.inc_player_card_pool(player_id, list {id: str, code: u8, count: u8}) Sig: Net.dec_player_card_pool(player_id, list: id: str, code: u8, count: u8}) Added MiniGameFramework (MGF) widget support. Support for Progress Bars Implemented Support for Textures as the Progress Bar Implemented Note This event was a precursor to Sprite API in 2.1 . This is a client-side widget for upcoming minigame framework. Feat: SECRET . Feat: Client + Server can send/read mail events. Flavored Text implemented engine-wide: Wavy Text implemented Jitter Text implemented Rainbow Text implemented These effects automatically work whereever custom strings are allowed. New Start Menu + Start Up Sequence + Logo Imported, configured, and programmed correct fonts for folder widgets. Feat: Replaced LIMIT system with chips with highly requested MB system. Feat: Stackable Cust Parts Note Finally, no one has to make multiple of the same mod and the engine tracks dupes client-side correctly. Feat: Scriptable Program Advances! Bugfix: form crash fix. Feat: Chips can be queued. Feat: Scriptable Character spawn intros. Feat: Popular Request: anything can be deleted/removed in intros. Feat: Popular Request: added -z flag skips the client boot and title screen. Feat: Eensured that title screen layer quantity can be made dynamic. The client reads the directory for titlescreen assets. This allows for even more client customization. Bugfix: Removes a function ptr copy to the animation's interrupt routine when copy_from is invoked (this was running CardAction's end routine any time set_state() was ran subsequently and causing a crash) Feat: added fairly cust-accurate emblem. Optional for player mods. Added TileState.length to TileState enum in lua to make field randomization easier. Bugfix: Fixed volcano sprite refresh reported issue. Feat: Tile pack provided by Rune. Bugfix: Ice slide bug. Feat: Custom cust screen button and lua bindings. Feat: A chip can show up when you select your custom button. Bugfix: Child nodes recolor correctly thanks to Alrysc. New art provided by Enzan/DJ Rezzed: new battle reward skin. Feat: psuedo-hot reloading. When launching client with -d debug flag you can now press Num0 to reboot client. This feature is engine-wide and can also reboot directly into battle-only mode -b . This feature automatically reloads mods and is great for quick iterations. Bugfix: Swoosh activity controller is now threadsafe. Bugfix: Discovered and patched the sol memory leak. Bugfix: Holding charge key down will recharge after flinch just like in the games. Bugfix: Regression: key inputs can be read during time freeze. Bugfix: Fixed the missing number 9 glyph in the megabytes draw. Bugfix: Fixed the asterisk character * not displaying correctly in card preview. Bugfix: Fixed the Broken tile state not working correctly when cracking tiles. Bugfix: Correctly applied card type limits to the engine at boot. Bugfix: Client replaces the boot, intro, and title scenes instead of pushing onto the stack which greatly reduces memory. Adjusted InputRepeater valused to match the delay from the games. Menu controls should feel a little more tighter and less sensitive. Bugfix: Caos (aka Shoes) found some more utf8 pathing issues in the scripts which we fixed via the C++ side. Feat: Added in-game rule checks and messages to the player when adding chips of each class and MB limit category. Feat: In-game rules are dynamic. e.g. MegaChip limit could be increased via a Cust Part. Feat: Rewrote the Folder Edit scene including the sort menu. Clamped FPS subtitle string to 4 characters (no more very long FPS values). Feat: Folders no longer disable and prevent you from editing them. Now only ill-formed folders prevent you from equipping them. Feat: Web Launcher (ONBWEL) revealed. Bugfix: Fixed time freeze crash when using chip during flinch. Feat: Timestop chips correctly reposition player animation before and after. Feat: A chip cannot be used while flinched - but they are correctly queued. An attempt was made to perfect buster-canceling movement. Feat: Chip charge mechanics. Combo names (PAs) are not longer truncated to 9 characters. Subsequent screen shakes are no longer queued from time freeze attacks. VirtualInputState is now a property for all Entity s. This structure is now independant from the input polled by the OS. Feat: Implemented REG and TAG chips. Feat: Implemented tile rules API. Tile rules allow for complex tile behavior and covers movement, sharing, and combat. Client and Lua support for unreserve_entity_by_id(ID) added. Feat: Implemented new anim file format rules. Engine still supports \"legacy\" format. Feat: Reg Tag chips show up first in the battle as expected. Feat: Game accurate explosions. More accurate battles: Battle doesn't end until last enemy's explosions are complete. Feat: Client multiple language support. Default is en - english language. Feat: Server multiple language support. Feat: replaced delta time with tick engine-wide for updates. This allows game to be frame-accurate. Feat: Reduced mod loading prior to request. Feat: New TextboxTestScene Allows users to boot the client with mugshot and text to ensure dialog looks correct. client.exe --chatbox --png path/to/a -anim path/to/b --dialog path/to/dialog.txt TextboxTestScreen shows how many lines are left. New \"Launch textbox\" button can test in-game dialog from ONBWEL. Feat: Lazy mod dependency resolution at bootup implemented. Added package:set_ability_name(str) for Player mods to change the charge ability name in the Player Stat screen. Feat: Player Stat screen is now complete. Reg Mem, card limits, and installed blocks show up in the 2nd window area. Stats update live after installing blocks too! Navi cust screen is now more accurate to the game and fixed some bugs that were discovered. Client support to manage player buffs during combat. Feat: hold the SHIFT key to fast forward the game. Tip This will be disabled when visiting an online server. Feat: SECRET . Feat: Rewrite of card action life-cycle and abilities engine-wide: Introduced Peek event. Introduced Ephemeral card types. Bugfix: Lua-provided charge time table bug (not updating) has been patched, finally. Renamed the charge time table function to charge_time_func in lua to try and standardize the lua API. Feat: Added an input focus feature in the engine that blocks debug keys from running while other widgets are using text input (e.g. textbox prompt). frametime values can now be printed in lua e.g. print(frametime.value) . Bugfix: Fixed horrible problem that has lingered in here for who knows how long: the engine correctly tags mods so you can load them in scripts (e.g. CardFrom(uuid) ). Engine provided special chars are now a lua property instead of a costly function. Bugfix: Viewing an invalid chip in the folder no longer crashes. Feat: If your folder is not adequate, the navi prompts a question to really leave. This routine runs if folder has less than the required chips. If the folder rules are not met, instead of a question, the navi prompts the user with the reason and does not exit the screen. FEAT: SECRET . Prototype new (buggy) interactive server to reboot and quit. Server supports swapping OW costumes for \"playable\" operators. Both client and server supports an additional button (R trigger) to be captured by scripts to do Jack-in or Hints like in single player games. Server examples scripts now show how to create overworld segments. Feat: Chip cust widget finally rewritten since the first ONB days to use the SceneNode system for drawing. All chip cust art is now moved to /resources/ui/cust_gui/ so new skin packs can be made. Feat: SECRET . Feat: For the first time since v1.0, the chip cust drawn routine has been rewriten and even the cust itself can be animated! Feat: Rewrote all engine draw routines to use new plug-n-play renderer. Default renderer is \"classic\" (retro GBA-style) rendering. Added props.print_uncertain_damage = true field to card props to print ??? . Feat: Panels animate during pause and other sub-combat states where everything else normally pauses animation. This is more accurate. Magma panels (lava) flicker out after accurate frames. New server function to toggle Navi HUD for overworld games Feat: When the battle is over, combat can still simulate. This is like in the games: no one takes damage or status effects. Added Battle.get_turn_count() to lua which returns the turn count. Added lua object anim function for refresh() and tick() . These functions don't explicitly need a sprite input anymore either. Feat: SECRET . PlayerMeta.set_charged_attack_level -> renamed to just set_charge_level . Added dark hole: TileState.dark_hole . Feat: SECRET . Feat: Emotions are now modifiable. entity:mod_emotion_value(inc) Similarly taking damage can now put players in the Anxious state. Feat: SECRET . Bugfix: Evil emotion no longer changes player's color. Added Battle.play_audio_for_player_or_default(entity, playerSound, otherSound, audioPriority) Will play playerSound if and only if the entity is the local player. Otherwise it will play otherSound . Bugfix: Fixed reported animation problem with warping in. No more moon walk. Feat: SECRET . Feat: SECRET . Feat: SECRET . Feat: ONBWEL will now AUTO-join the server launched from web links. A box informs you if a connection failed and returns to the PET home. Bugfix: Fixed overworld teleportation bug. When converting seconds to frames, the check that someone was too far away was wrong causing pretty much everyone to teleport out constantly online.","title":2.5},{"location":"changelogs/two_point_five/#25-changelog","text":"There were many sleepless nights, long weekends, and multiple refactors of the ONB engine from version 2.0 . Huge thanks to team-member, Rune, for documenting the incremental changelogs during development so that we can present them here. Note This is a living document. Expect more changes to be added over time until 2.5 is released. Efforts were made to preserve many of the scriptable API behavior while improving what was already available. Fixing some bugs revealed new issues and etc. Finally, the changelog reveals what has changed from the last public release to the grand 2.5 version of ONB. Tip The items marked SECRET are supposed to be surprises and as such will not be mentioned in any form of publicity even after a short time after the release of 2.5 in order to maximize fun for everyone. Fixed missing local session code saving/restoring prog blocks. Fixed a logic issue in navi cust scene when inserting blocks into the grid. Fixed crash while changing forms in the middle of a chip. Old code revealed animations were updating during draw and this queued graphics to be drawn which were later deleted when the transformation completed on a given frame. Dark card effect properly dimming everything but mob health and card art. Added default draw bits to card attachments and player form attachments. This required bumping all layer codes by 1 to support an unset state. Fixed many more issues with player sessions and folders which resulted in a partial rewrite. The sessions now switch between local and server without overwriting or affecting eachother. Chip pool is also respected. Moving chips out of your pool will reduce the pool and these changes are tracked for that session. Server mode settings: A) World B) Game Game mode can have a title screen and splash MiniGameFramework (MGFW) started. All servers should be able to provide an optional loading screen So people aren't just staring at a black loading screen A temp \"solution\" is in atm but MGFW would be more robust. In Folder Edit: the / character is incorrect. e.g. 10930 instead of 10/30 . Animated navi previews Introduced @node attribute for ONB and boomsheets Users can use nodes for eyes and multiple independant parts. Limited supported scenes only (at the moment) mugshots navi preview Renamed SyncNodeHandle to SpriteGraph . We can support multiple nodes for the same animation. There needs to be two types of ways to initialize a \"SyncNode\": create_sync_node(point) 1. references the SAME animation as the entity. No copies. create_sync_node_new_anim(point, anim) 1. Provides a node its own animation file. This is ideal for sync nodes using completely different animations than the entity to which it is bound. Bugfix: cust_gauge_max_time returns the default ma1. time if a custom ma1. time has not yet been provided. Patch lua print to support variadic args. Bugfix: CardAction.on_action_end_func did not run in time freeze. Added a new lua API for HitProps . The old code will still work. The new API will look like this: local props = HitProps . new ( user : get_context ()) Or created manually: HitProps . new () props : with_flags ( Hit . Confuse | Hit . PierceInvis | Hit . PierceGuard | Hit . PierceGround ): cooldown ( frames ( 2 )) confuse_atk : set_hit_props ( props ) You can also chain off of HitProps.new() local props = HitProps . new (): add_flag ( Hit . Confuse ) : cooldown ( frames ( 2 )) Notice there's :with_flags(...) and :add_flag(...) . The former overwrites all at once. The latter can help format and add one at a time. Patched status animations restarting when statuses are applied on that frame. Status animations (confused, blind, etc.) will continue to play if they were already playing even on subsequence status applications. DefenseFrameStateJudge had unused block_impact and is_impact_blocked functions. It was repurposed and is now block_collision and is_collision_blocked . A new check for if judge.is_collision_blocked is true now occurs after DefenseOrder::always defense rule types. Bugfix: Using Keristero's Guard mod, when using it and changing forms, confirmed that the end_action callback is correctly executed. PlayerForms now support set_description(str) . Battle background .anim files now support @scroll left, top, frames attribute. This attribute will overwite the velx and vely parameters in the scripted mob lua function set_background . Additionally, these two fields are now optional in lua and default to 0 if not provided. mob:set_background(texture_path, anim_path, velx?, vely?) . Similarly applied changes and exact behavior for scripted cards in lua which use animated background images. Changing the charge table in lua now immediately applies the new values to the charge component. Bugfix: A drag event's last realized step applies endlag. Sea tiles add a +30 on aqua chips. Feat: Mobs can replace the battle tiles with a custom thematic tileset. Card damager modifier changes: ... now takes an ID string in lua to identify the modification. ... can be cleared the same way. ... changes the value by id iff different from the last value. Tile rule TileRules.SeaBonusCheck added. If chip can_boost is false damage number and multiplier are hidden. Player.is_charging returns false if not charging buster, true otherwise. Sea panels also tick like poison for Fire characters. Bugfix: Weird shader effects in battle start at times for characters Added Entity LOC into the RenderData table and made correct calls to refresh and re-apply the shader. Removed all built-in background types except for Lan and Grid. This means you must provide your own backgrounds in servers or mods from here on out. Backgrounds use tickrate for pixel-perfect scrolling behavior. To add scrolling, add @Scroll left=p1. right=p1. frames=count to your animation files for the background. The lua API for setting a background is now just set_background(texture_path, anim_path) TiledMaps no longer read Velocity properties. Simply include the attribute to your animation file for servers. Bugfix: Rainbow does not animate in NaviCust scene, or Status screen. Bugfix: Can't leave folder until I set a REG chip. Feature: Prevent backslashes to user name in config screen. Bugfix: Having one item left in the navi cust makes the RUN button disappear when you select it. Bugfix: Chip with + Damage is reset by navi who can charge on the first frame of battle Feat: chip charging can replace a chip's action. Feat: Tag chip support and data. The engine should have a keyboard capture status so that pressing 0 key while in textbo1. does not reboot on you. Invalid cards forever when you run out of chips fix. Make special chars a lua property instead of a function. Viewing an invalid card in the folder caused a crash fix. Tagged chip pair not showing up fix. If you have 30 chips and dont make an edit you can't leave FIX (AGAIN!). Remove remaining pointers in recent chip cust refactor. Provided way to do warpstep bug. If I make a change to my config controls and save, the soft reset does not respect my changes. Guaranteed frame-perfect key presses even during frame step on both single threaded and multithreaded modes. Ability to determine if an entity is a local player or not (for exclusive sounds). Added new optional custom property \"Warp Out\" which defaults to true if not specified, but if set to false it triggers the handler without warping the player out automatically. Tip This allows anyone to use custom warps for literally any kind of warping and to do custom animations. Add additional elements: Recov , PanelDestruction , Invisible . Allow player.on_pre_move_func() to return nil as a no-opt. When nil is returned, there is no animation + no movement. Buster hit sound only plays on attack, not collision check 1. this allows guard to play *TING* correctly. Added ability to swap out with human character for overworld segments. Custom jack-in animation. Play buster hit sf1 on attack_func . Currently it is on hit which could be blocked by Guard/Defense Rules. From Kirby: All panels animate during pause and other states. Magma panels dissapear after 980 frames. Bugfix: Magma tiles deal null damage now (previously fire). Thanks Kirby! From Kuri: They supplied custom chip cust graphics and the following information: Patched everything to do with forms and form customization: When opening the forms, the cursor is a frame late to reposition to the top After selecting a new form, the 1st frame of being open, the forms are not in the right place the 4th selected chip is underneath the chip lock sprite or missing entirely Form transformation timing is not correct 20 frames pass 21st frame, it starts to turn white 9 frames to become fully white 9 frames to fade out Pop in the health and emotion UI to the original top-left position and to the cust select widget during animations Bugfix: The frame that an entire team is deleted, should results in all other entities receiving 0 damage and no status effects. Battle.is_local_player(e) -> rename to the audio explicit version to prevent desyncs Renamed to Battle.play_audio_for_player_or_default(sound1, sound2, priority) . Add Lua function for anims .refresh() and .update() these functions dont explicitly need a sprites anymore either. Provide this option. Lua to add/remove nodes to tiles This way \"custom\" tiles can blink with the parent tile PlayerMeta.set_charged_attack_level() is now -> .set_charge_level() Add new API to Game.cpp to fetch the renderer to perform programmer-defined functions Currently the RenderOptions list is useful. getController()->getRenderer<MyCustomCustomer>()->doCustomFunction(); Added Swoosh support for non-renderer events. Swoosh can now send data back to the next scene when called via pop() or rewind() ! Added dark hole. SubChip renamed to SubItem . SubItems have a category group for the Head , Body , and Shoes placement. SubItems with the same category will ask to overwrite the active spot. SubItems have a new activateOnUse field which, when true, places the item in the active spot client-side. (C++) SubItems are cleared at the end of a session. SubItems have an event that sends to the server. Emails have an event that sends to the server. Added SubItemAdd packet which was missing. Added SubItemActivate(subitem_id, active) to toggle the active subitem if applicable (C++) OverworldSceneBase class has a new OnSubItemConsumeEvent() to handle network callbacks in the online area scene. Feat: API for sending chip data for after battles. Feat: API sending other battle reward types (health, monies, bits, etc.). Min and Max Emblem Size were 15x15. Size restrictions removed entirely. Added a way to get viewport boundaries in screen/world space from Engine: Engine.get_viewport_size(): {x=width, y=height} Similarly, added way to get tile from worldspace/screenspace point coordinates: field:tile_from_pixels(x, y) Potentially fixed overworld collisions from allowing pixel-perfect diagonal crossing with a custom tri-leg algorithm approach. KeyItemScene textbox scale issue fixed. Bugfix: removed red tag when no cards and no reg. Bugfix: Empty folder (and end of the folder) clears the codes from being visible. Bugfix: Giga class cards are no longer default when folder is empty. Moved multiplier out of SelectedUI widget to the chip properties as the new x2 field When x2 is true , damage is doubled only once. When x2 is false , damage is halved if ever doubled. Noted that the OnHit callbacks were never executed if props.damage <= 0 , so I took out those redundant checks IN the callback handler routine. Kano moved the card_delete and hand_delete hit props resolution to the base entity class. Card UUID property is now read-only. Components now have a is_timefrozen() function for components attached to an entity. Adjusted card damage modifier graphics on all states that print the modifiers based on the source material. Camera packets that shake with intensity or duration of zero (0) will stop the shake effect. Entities in battle can call stop_camera_shake() to also end the camera shake effect. SECRET . SECRET . SECRET . SECRET . Engine support @loop attribute everywhere for anims. @loop start=x, end=y . Overworld supports @on_move_change for anims and only has two types of keys: reverse and forward . SECRET . Added lua bindings to tickrate struct: tickrate.new(units: int, delay: uint = 0) . Fields: units, delay. The only function: digest(frames: frametime) -> int . Anim method set_playback_speed() now takes in tickrate to support frame delays (sub <1 frame per tick speeds). Added an overload for set_playback_speed() to take in frametime for compatibility with olds mods. Anim method get_playback_speed() likewise returns tickrate . Updated function signature: Explosion.new(count: int, speed: tickrate) . Bugfix: SECRET . Added optimization to animations so that cpu cycles for long-looping animations should stablize. Ensured new \"loop points\" for overworld animations are working. See: Megalo_player_GyroMan.zip from D3str0y3d. Bugfix: UI layer updates and draws itself on the correct frame as expected. Feat: Server can now see what Cust Parts the client has installed for the current player mod: Server can now see this event with Net.on('progblocks_upsert', event) event = {player_id, [pool], [active]} pool = {id, quantity} active = id, form?, color: string? center? rotates? compiled? form = [bool; 15] Send whether or not a piece was on the compile line compiled . Fix the cursor alignment math when grabbing a bloc. Feat: GameSession is now the source of truth for the player's stats in the engine. Bugfix: Regression: Blocks are not inserting intro the grid after rotations correctly Bugfix: Regression: Thread-friendly input consumers (frameskip, fullscreen, etc.) no longer work. Bugfix: Regression: Fullscreen toggle in multithreaded mode crash. Feat: -f or --fullscreen flags supported from console launch. Bugfix: First-time fresh boot of client doesn't load any resources from mods and crashed in Navi Select. Bugfix: Tweaked charge effect animation. Bugfix: Battle.play_audio_for_player_or_default(...) crash fix. Bugfix: Running out of cards now correctly erases the card icons from their slots. Feat: SECRET . Bugfix: Fix stair layer ordering regression with new renderer in overworld. Feature: During chip select, added a callback function on the hover card state to take in the player and mutate chips in the deck. e.g. Maramusa. CardBuilderTrait.on_update -> CardBuilderTrait.on_tick . card_on_tick(actor, props) for the lua mod, runs every frame tick during the Cust Selection Battle state. GUI caches damage value when it makes a new chip selection and draws this cached value like the games. print_uncertain_damage renamed -> is_mystery_damage . ALL next cards (top-most card) in a Player 's hand will now call cards_on_tick during combat as well. Patch: Buster max charge time can never be less than zero + hard-coded 10 frames of startup delay. Debug flag added to external device processor to draw sprite origins with color. This used used in the ONB Inspector tool. Migrated all and partially rewrote player session data pertaining to folders into a new FolderRecords struct. This struct now has additional properties for the player's current session: folderLimit , canCreate , canEdit , canEquip , forceEquip The server can send these events and the client reads these values. Renamed lua sprite methods set_layer to set_draw_priority which is more accurate now. This change was also made in the C++ code. New set_draw_bits represents the group + order info used by the retro renderer to retarget sprites and object sprites. Method signature set_draw_bits(unsigned int group, unsigned int destLayer) . destLayer is optional! Groups: Background = 0 Floor = 1 Object = 2 Attack = 3 Effect = 4 Misc = 5 Destination Layers are just Groups . This is to retarget object sprites and can be omitted. Feat: Support sprite flipping at the node class and remove other implementations. Completed goal: Alpha mod shows that GBA layering is correct when flipping screen. Feat: status_cooldown: frames field added to hitbox props. Bufix: Restored freeze on ice panel when hit with water elements. Bugfix: Restored cancel ice at EOF when hit with true breaking. Feat: Optimized Field and Tile class iterations per tick. Lua anim object has a new set_keyframe(index, sprnode?) function. Added complementary get_keyframe_index(): int to lua anim objects. Feat: Server can now overwrite player folder session traits and permissions. Feat: When using the link gate, the chip no longer auto-fires (manual activation). Feat: You can now select a chip from the pool for overworld games. You can configure the event name, the types of chips that are allowed, the number of chips, etc. Streams live logs to the registered external device (e.g. ONB Inspector tool) if ran with -d flag Feat: No more console window. The debugger tool is now optional. Feat: camera zoom is enabled for a map for PC players via PgUp and PgDn . Feat: Rewrote tile rendering and added camera-culling! Strictly tiles in view of the camera are drawn. Culling Layer special effects. Link 1 . Link 2 . Complete control of each tile. Link 1 . Feat: Server can overwrite/set/get Tag mem, Reg mem, and Card Limits. Bugfix: Textbox responds to text escape codes properly (e.g. mute, slow, speed up). Feat: Added Layer 0 wiggle support. Feat: \"Fragments\" info section appears in menu only when fragments > 0 . Bugfix: Characters which were not spawned by the mob spawner could not properly use timestop actions (the action does not execute, and does not freeze time). Bugfix: Player FinishConstructor() function should overwrite shoot, swing, throw, and flinch animations too. Flinch frame was overwriting non-existent entries, resulting in less frames to complete. This was unfair. Ensured overwrites generate valid anims that wait for duration specified. Feat: Server API for creating, updating, equipping, etc. folders: Client had to change from taking in a string to requiring a position index, starting at 1 . This resolved most of the remaining known permission syncing issues. Bugfix: Fixed the remainder of permission issues using wrong bitwise math. Bugfix: Fixed Net.write_player_folder() API. All codes were being overwritten to 0 . Bugfix: Fixed Net.inc_player_card_pool() and Net.dec_player_card_pool() API. Same problem as write_player_folder() as well plus the signature changed in rust but had not in lua. Sig: Net.inc_player_card_pool(player_id, list {id: str, code: u8, count: u8}) Sig: Net.dec_player_card_pool(player_id, list: id: str, code: u8, count: u8}) Added MiniGameFramework (MGF) widget support. Support for Progress Bars Implemented Support for Textures as the Progress Bar Implemented Note This event was a precursor to Sprite API in 2.1 . This is a client-side widget for upcoming minigame framework. Feat: SECRET . Feat: Client + Server can send/read mail events. Flavored Text implemented engine-wide: Wavy Text implemented Jitter Text implemented Rainbow Text implemented These effects automatically work whereever custom strings are allowed. New Start Menu + Start Up Sequence + Logo Imported, configured, and programmed correct fonts for folder widgets. Feat: Replaced LIMIT system with chips with highly requested MB system. Feat: Stackable Cust Parts Note Finally, no one has to make multiple of the same mod and the engine tracks dupes client-side correctly. Feat: Scriptable Program Advances! Bugfix: form crash fix. Feat: Chips can be queued. Feat: Scriptable Character spawn intros. Feat: Popular Request: anything can be deleted/removed in intros. Feat: Popular Request: added -z flag skips the client boot and title screen. Feat: Eensured that title screen layer quantity can be made dynamic. The client reads the directory for titlescreen assets. This allows for even more client customization. Bugfix: Removes a function ptr copy to the animation's interrupt routine when copy_from is invoked (this was running CardAction's end routine any time set_state() was ran subsequently and causing a crash) Feat: added fairly cust-accurate emblem. Optional for player mods. Added TileState.length to TileState enum in lua to make field randomization easier. Bugfix: Fixed volcano sprite refresh reported issue. Feat: Tile pack provided by Rune. Bugfix: Ice slide bug. Feat: Custom cust screen button and lua bindings. Feat: A chip can show up when you select your custom button. Bugfix: Child nodes recolor correctly thanks to Alrysc. New art provided by Enzan/DJ Rezzed: new battle reward skin. Feat: psuedo-hot reloading. When launching client with -d debug flag you can now press Num0 to reboot client. This feature is engine-wide and can also reboot directly into battle-only mode -b . This feature automatically reloads mods and is great for quick iterations. Bugfix: Swoosh activity controller is now threadsafe. Bugfix: Discovered and patched the sol memory leak. Bugfix: Holding charge key down will recharge after flinch just like in the games. Bugfix: Regression: key inputs can be read during time freeze. Bugfix: Fixed the missing number 9 glyph in the megabytes draw. Bugfix: Fixed the asterisk character * not displaying correctly in card preview. Bugfix: Fixed the Broken tile state not working correctly when cracking tiles. Bugfix: Correctly applied card type limits to the engine at boot. Bugfix: Client replaces the boot, intro, and title scenes instead of pushing onto the stack which greatly reduces memory. Adjusted InputRepeater valused to match the delay from the games. Menu controls should feel a little more tighter and less sensitive. Bugfix: Caos (aka Shoes) found some more utf8 pathing issues in the scripts which we fixed via the C++ side. Feat: Added in-game rule checks and messages to the player when adding chips of each class and MB limit category. Feat: In-game rules are dynamic. e.g. MegaChip limit could be increased via a Cust Part. Feat: Rewrote the Folder Edit scene including the sort menu. Clamped FPS subtitle string to 4 characters (no more very long FPS values). Feat: Folders no longer disable and prevent you from editing them. Now only ill-formed folders prevent you from equipping them. Feat: Web Launcher (ONBWEL) revealed. Bugfix: Fixed time freeze crash when using chip during flinch. Feat: Timestop chips correctly reposition player animation before and after. Feat: A chip cannot be used while flinched - but they are correctly queued. An attempt was made to perfect buster-canceling movement. Feat: Chip charge mechanics. Combo names (PAs) are not longer truncated to 9 characters. Subsequent screen shakes are no longer queued from time freeze attacks. VirtualInputState is now a property for all Entity s. This structure is now independant from the input polled by the OS. Feat: Implemented REG and TAG chips. Feat: Implemented tile rules API. Tile rules allow for complex tile behavior and covers movement, sharing, and combat. Client and Lua support for unreserve_entity_by_id(ID) added. Feat: Implemented new anim file format rules. Engine still supports \"legacy\" format. Feat: Reg Tag chips show up first in the battle as expected. Feat: Game accurate explosions. More accurate battles: Battle doesn't end until last enemy's explosions are complete. Feat: Client multiple language support. Default is en - english language. Feat: Server multiple language support. Feat: replaced delta time with tick engine-wide for updates. This allows game to be frame-accurate. Feat: Reduced mod loading prior to request. Feat: New TextboxTestScene Allows users to boot the client with mugshot and text to ensure dialog looks correct. client.exe --chatbox --png path/to/a -anim path/to/b --dialog path/to/dialog.txt TextboxTestScreen shows how many lines are left. New \"Launch textbox\" button can test in-game dialog from ONBWEL. Feat: Lazy mod dependency resolution at bootup implemented. Added package:set_ability_name(str) for Player mods to change the charge ability name in the Player Stat screen. Feat: Player Stat screen is now complete. Reg Mem, card limits, and installed blocks show up in the 2nd window area. Stats update live after installing blocks too! Navi cust screen is now more accurate to the game and fixed some bugs that were discovered. Client support to manage player buffs during combat. Feat: hold the SHIFT key to fast forward the game. Tip This will be disabled when visiting an online server. Feat: SECRET . Feat: Rewrite of card action life-cycle and abilities engine-wide: Introduced Peek event. Introduced Ephemeral card types. Bugfix: Lua-provided charge time table bug (not updating) has been patched, finally. Renamed the charge time table function to charge_time_func in lua to try and standardize the lua API. Feat: Added an input focus feature in the engine that blocks debug keys from running while other widgets are using text input (e.g. textbox prompt). frametime values can now be printed in lua e.g. print(frametime.value) . Bugfix: Fixed horrible problem that has lingered in here for who knows how long: the engine correctly tags mods so you can load them in scripts (e.g. CardFrom(uuid) ). Engine provided special chars are now a lua property instead of a costly function. Bugfix: Viewing an invalid chip in the folder no longer crashes. Feat: If your folder is not adequate, the navi prompts a question to really leave. This routine runs if folder has less than the required chips. If the folder rules are not met, instead of a question, the navi prompts the user with the reason and does not exit the screen. FEAT: SECRET . Prototype new (buggy) interactive server to reboot and quit. Server supports swapping OW costumes for \"playable\" operators. Both client and server supports an additional button (R trigger) to be captured by scripts to do Jack-in or Hints like in single player games. Server examples scripts now show how to create overworld segments. Feat: Chip cust widget finally rewritten since the first ONB days to use the SceneNode system for drawing. All chip cust art is now moved to /resources/ui/cust_gui/ so new skin packs can be made. Feat: SECRET . Feat: For the first time since v1.0, the chip cust drawn routine has been rewriten and even the cust itself can be animated! Feat: Rewrote all engine draw routines to use new plug-n-play renderer. Default renderer is \"classic\" (retro GBA-style) rendering. Added props.print_uncertain_damage = true field to card props to print ??? . Feat: Panels animate during pause and other sub-combat states where everything else normally pauses animation. This is more accurate. Magma panels (lava) flicker out after accurate frames. New server function to toggle Navi HUD for overworld games Feat: When the battle is over, combat can still simulate. This is like in the games: no one takes damage or status effects. Added Battle.get_turn_count() to lua which returns the turn count. Added lua object anim function for refresh() and tick() . These functions don't explicitly need a sprite input anymore either. Feat: SECRET . PlayerMeta.set_charged_attack_level -> renamed to just set_charge_level . Added dark hole: TileState.dark_hole . Feat: SECRET . Feat: Emotions are now modifiable. entity:mod_emotion_value(inc) Similarly taking damage can now put players in the Anxious state. Feat: SECRET . Bugfix: Evil emotion no longer changes player's color. Added Battle.play_audio_for_player_or_default(entity, playerSound, otherSound, audioPriority) Will play playerSound if and only if the entity is the local player. Otherwise it will play otherSound . Bugfix: Fixed reported animation problem with warping in. No more moon walk. Feat: SECRET . Feat: SECRET . Feat: SECRET . Feat: ONBWEL will now AUTO-join the server launched from web links. A box informs you if a connection failed and returns to the PET home. Bugfix: Fixed overworld teleportation bug. When converting seconds to frames, the check that someone was too far away was wrong causing pretty much everyone to teleport out constantly online.","title":"2.5 CHANGELOG"},{"location":"changelogs/two_point_one/","text":"BACKPORT # A very helpful community member named Alrysc helped back-port awaited 2.5 features into the older 2.0 engine. He did this so that everyone can enjoy new content sooner and iron out innaccuracies in PVP. This effort, dubbed \"the backport\" was unplanned and volunteered by him because he is very cool. Because he was also helpful, he was brought into the official team for 2.5 to work on the C++ codebase. 2.1 CHANGELOG # Hit.Flinch is now allowed to queue with Hit.Drag , so you will flinch when hit by Hit.Drag if you don't have armor/ DefenseRule -s. Hit.Stun and Hit.Freeze replace each other instead of allowing you to be stunned and frozen at the same time. Grass heal works properly. Fixed an issue where you could skip the battle start text when form changing if any Player took weakness damage since the last transform state. Fixed TFC softlock if you did TFC on the last possible frame. Breaking change: Player.charged_time_table_func was renamed to Player.charge_time_func , and now takes Player (self) and the Charge level as input. Note You will not get errors if you don't fix this, but it will not work as expected! Breaking change: PlayerForm.calculate_charge_time_func was renamed to PlayerForm.charge_time_func , and now takes Player (self) and the Charge level as input, so it works the same as the Player's version. Caution This will make the mod unnusable if you don't fix this. Fixed mistake on Player.charge_time_func . Added Entity.is_dragged so you can check if you're currently under the effects of Drag, which prevents all action. Fixed Entity.can_attack . Drag now returns false for is_moving and is_sliding after movement ends for the rest of the duration of Drag. Added Confuse status, which lasts for 110 frames when applied. You can access with Hit.Confuse . Added Entity.is_confused so you can check if you are under the effects on Confusion. Enemies may want to use this to choose different logic. Kirby summarizes how enemies tend to react to Confuse in later games. TimeFreeze attacks don't-counter hit anymore. Turns now last 512 frames by default (~8.5 seconds vs. old 10 seconds). Battle.get_turn_count , which returns the current turn number. 0.0 initially, then increases by 1.0 every Battle Start banner. Battle.get_cust_gauge_value , which returns a double ranging from 0.0 to 1.0 , as a percentage of the Cust gauge (or maybe it can go over 1.0 , but 1.0 is full. I'll update this text later once I check.). Battle.get_cust_gauge_time , which returns a number in frames for the current gauge time (e.g. 256.0 when gauge is half full with default duration). Battle.get_cust_gauge_max_time , which returns a number in frames for the current max gauge time (e.g. 512.0 for default time). Battle.get_default_cust_gauge_max_time , which returns the default gauge time, 512.0 frames. Battle.set_cust_gauge_time , takes in a frametime (like frames(256) ) to set current gauge time to. Battle.set_cust_gauge_max_time , takes in frametime to set max time to (current time is automatically readjusted to match the percentage of total time it had before, e.g. max time 512 and current time 256 will have current time 100 if you set max time to 200). Battle.reset_cust_gauge_to_default , sets max time to default time. Added secondary element to HitProps, called element2 . You can access with props.element2 . Form change resets emotion. The old HitProps constructor is deprecated! But it exists for now. In the future and now, you can create a HitProps with HitProps.new() or HitProps.new(context) . Then you use a series of functions (builder design pattern) to customize. Fixes duplicate name that made it impossible to read a HitProps Drag. The function drag is now drg . Obstacles cannot become blind or confused. The player session tracks BugFrags, and then can be set (and rewarded with battle rewards) from the server. Fixed a crash related to leaving the server in recent builds Obstacles are now deleted immediately when hitting 0 health, rather than waiting for their next update like all other Entities. Unfinished Battle.UIComponent is included, but does not yet support layering. Low health beep is back, but plays at slightly wrong times. To be fixed later. Because the timing of battle results signals has changed, liberations may react sooner than expected. Opacity is set correctly by the server for drawn sprites. Hiding the HUD will no longer allow you to open an invisible menu. Pressing Start will still interrupt other inputs. For example, moving and pressing Start will stop moving for a frame. Instead of saying \"No Data\", results will say \"Pending\" in the text box if the server indicated a card would be received but had not finished installing. Fixed a crash when editing folder. UIComponents now respond to layering and can be drawn over the Cust gauge at certain layers. UI component draw fixes when perspective flipping. mob:no_results() skips showing battle results, but results still go to servers (for tourney style battles). Battle results run is now replaced with reason on the server. win - when the battle is over b/c the player won lose - when the battle is over b/c the player lost draw - when the battle is over but the match was a draw runaway - \" \" b/c the player requested to run away debugesc - \" \" b/c the user player aborted (panic) The engine now responds to a unique heuristic: if the user presses ESC three times in a row within a second, the scenes can respond to a user panic operation. This trigger aborts the battle scene and the overworld online scene. This is useful if you get stuck and replaces the debug ESC behavior entirely. 2 scenes now implement this: battle + overworld online. Performing this operation will return you to the previous scene. Custom battle hit SFX. This makes the engine more accurate in behavior. Entity:set_hurt_sfx(audio) changes the entity hurt sfx. Entity:use_default_hurt_sfx(bool) toggles whether to use the default hurt sfx from before. DefenseFrameStateJudge:set_hit_sfx(audio) changes the final sfx to play. Adopts the victim entity's hurt sfx if one is provided. DefenseFrameStateJudge:hit_spawn_gfx(bool) adds a hint to the defense frame state judge whether or not to spawn a hit graphic effect. DefenseFrameStateJudge:hint_spawn_gfx() - used in hitbox attack + collision func to read if the entity should obey the hint to spawn image graphics or not. Additionally, attack and collision callbacks now receive an optional last parameter judge object so you can read this hint and respond to it. Tip For those who care about mod accuracy, custom sfx during combat resolution is a must. For most people, this means you don't have to provide hit sounds in most of your mods anymore, or handle playing them. Hit.cancel is automatically added to Hit.stun , Hit.freeze , Hit.flinch , and Hit.drag . You can add a callback event to react to this. Hit.cancel can be erased by defense rules. The purpose of this flag is to cancel a chip or interrupt an enemy. This behavior used to be applied to everything that used a CardAction for attacking or behavior, but was inconsistent with the games. So now it's still \"automatic\" but you can opt-out of this behavior. For example: when viruses are stunned, they do not have their action interrupted. They continue after un-stun. However, bosses do handle interrupts. Side effects: if you are dragged and remove Hit.cancel , it's now possible to move mid-action. This may or may not be what you want, if it happens. Just handle this case. TL;DR if you're programming a virus, use virus body defense rule or remove Hit.cancel in the defense rule step. This assumes you're using CardAction -s for behaviors (correct). FullSynchro is no longer removed accidentally in places where it shouldn't be (when DefenseOrder.Always blocked the attack, or when anybody using a CardAction ). ActionOrder.Immediate now causes the last action added to go first, so queuing multiple actions with ActionOrder.Immediate will have reversed order now (FILO aka stack). Losing in PvE battles can no longer end in a draw . Either win or lose (with the exception of userAbort ). The fade time after battle was changed, for people who noticed it was different last build. The results widget now stays around while fading out. This is like the games. New title screen. May be the final title screen depending on if we get custom art by the time public release happens. bg_blue.png -> bg.png added vnum.png which you can customize but the location is pre-coded. Servers can play the email ring. Servers can provide card mod assets and cause them to load on the client. Servers can send battle rewards, which display in battle for real! There can be multiple rewards sent at the same time. Servers can tell the client to draw sprites on the screen in the overworld. Servers can toggle the HUD between health and PET. Note the PET and face shown are currently just the ones in the resource folder, but they may read from the mod in the future. New API endpoints for: Battle rewards Toggling HUD Sending emails Ringing PET Drawing sprites on screen Server sprites are drawn in an optimized manner for potentially hundreds of sprites over the network. mob:no_results() skips results presentation for tourney-style battles Asset type and package type hints (optional) when providing assets to your users (makes chip rewards work) For the sprite API, the a channel is now an alternative name for opacity channel. Sprite API supports color_mode and rgb channels. James released \"Stardust\" - a simple particle system plugin for ONB servers. Stardust API updated to support rgb color channels Added enums.lua to the server libs to start documenting enum values. Added Net.virtual_input(event={player_id, events={{name, state}}) for the server to handle input. Note Be sure to lock the player's client-side input first! Server-side sprite anims loop now like they were supposed to. When providing assets, you can now give an optional asset type and mod type on the server-side. Tip This helps resolve chips for giving them as rewards in battle.","title":2.1},{"location":"changelogs/two_point_one/#backport","text":"A very helpful community member named Alrysc helped back-port awaited 2.5 features into the older 2.0 engine. He did this so that everyone can enjoy new content sooner and iron out innaccuracies in PVP. This effort, dubbed \"the backport\" was unplanned and volunteered by him because he is very cool. Because he was also helpful, he was brought into the official team for 2.5 to work on the C++ codebase.","title":"BACKPORT"},{"location":"changelogs/two_point_one/#21-changelog","text":"Hit.Flinch is now allowed to queue with Hit.Drag , so you will flinch when hit by Hit.Drag if you don't have armor/ DefenseRule -s. Hit.Stun and Hit.Freeze replace each other instead of allowing you to be stunned and frozen at the same time. Grass heal works properly. Fixed an issue where you could skip the battle start text when form changing if any Player took weakness damage since the last transform state. Fixed TFC softlock if you did TFC on the last possible frame. Breaking change: Player.charged_time_table_func was renamed to Player.charge_time_func , and now takes Player (self) and the Charge level as input. Note You will not get errors if you don't fix this, but it will not work as expected! Breaking change: PlayerForm.calculate_charge_time_func was renamed to PlayerForm.charge_time_func , and now takes Player (self) and the Charge level as input, so it works the same as the Player's version. Caution This will make the mod unnusable if you don't fix this. Fixed mistake on Player.charge_time_func . Added Entity.is_dragged so you can check if you're currently under the effects of Drag, which prevents all action. Fixed Entity.can_attack . Drag now returns false for is_moving and is_sliding after movement ends for the rest of the duration of Drag. Added Confuse status, which lasts for 110 frames when applied. You can access with Hit.Confuse . Added Entity.is_confused so you can check if you are under the effects on Confusion. Enemies may want to use this to choose different logic. Kirby summarizes how enemies tend to react to Confuse in later games. TimeFreeze attacks don't-counter hit anymore. Turns now last 512 frames by default (~8.5 seconds vs. old 10 seconds). Battle.get_turn_count , which returns the current turn number. 0.0 initially, then increases by 1.0 every Battle Start banner. Battle.get_cust_gauge_value , which returns a double ranging from 0.0 to 1.0 , as a percentage of the Cust gauge (or maybe it can go over 1.0 , but 1.0 is full. I'll update this text later once I check.). Battle.get_cust_gauge_time , which returns a number in frames for the current gauge time (e.g. 256.0 when gauge is half full with default duration). Battle.get_cust_gauge_max_time , which returns a number in frames for the current max gauge time (e.g. 512.0 for default time). Battle.get_default_cust_gauge_max_time , which returns the default gauge time, 512.0 frames. Battle.set_cust_gauge_time , takes in a frametime (like frames(256) ) to set current gauge time to. Battle.set_cust_gauge_max_time , takes in frametime to set max time to (current time is automatically readjusted to match the percentage of total time it had before, e.g. max time 512 and current time 256 will have current time 100 if you set max time to 200). Battle.reset_cust_gauge_to_default , sets max time to default time. Added secondary element to HitProps, called element2 . You can access with props.element2 . Form change resets emotion. The old HitProps constructor is deprecated! But it exists for now. In the future and now, you can create a HitProps with HitProps.new() or HitProps.new(context) . Then you use a series of functions (builder design pattern) to customize. Fixes duplicate name that made it impossible to read a HitProps Drag. The function drag is now drg . Obstacles cannot become blind or confused. The player session tracks BugFrags, and then can be set (and rewarded with battle rewards) from the server. Fixed a crash related to leaving the server in recent builds Obstacles are now deleted immediately when hitting 0 health, rather than waiting for their next update like all other Entities. Unfinished Battle.UIComponent is included, but does not yet support layering. Low health beep is back, but plays at slightly wrong times. To be fixed later. Because the timing of battle results signals has changed, liberations may react sooner than expected. Opacity is set correctly by the server for drawn sprites. Hiding the HUD will no longer allow you to open an invisible menu. Pressing Start will still interrupt other inputs. For example, moving and pressing Start will stop moving for a frame. Instead of saying \"No Data\", results will say \"Pending\" in the text box if the server indicated a card would be received but had not finished installing. Fixed a crash when editing folder. UIComponents now respond to layering and can be drawn over the Cust gauge at certain layers. UI component draw fixes when perspective flipping. mob:no_results() skips showing battle results, but results still go to servers (for tourney style battles). Battle results run is now replaced with reason on the server. win - when the battle is over b/c the player won lose - when the battle is over b/c the player lost draw - when the battle is over but the match was a draw runaway - \" \" b/c the player requested to run away debugesc - \" \" b/c the user player aborted (panic) The engine now responds to a unique heuristic: if the user presses ESC three times in a row within a second, the scenes can respond to a user panic operation. This trigger aborts the battle scene and the overworld online scene. This is useful if you get stuck and replaces the debug ESC behavior entirely. 2 scenes now implement this: battle + overworld online. Performing this operation will return you to the previous scene. Custom battle hit SFX. This makes the engine more accurate in behavior. Entity:set_hurt_sfx(audio) changes the entity hurt sfx. Entity:use_default_hurt_sfx(bool) toggles whether to use the default hurt sfx from before. DefenseFrameStateJudge:set_hit_sfx(audio) changes the final sfx to play. Adopts the victim entity's hurt sfx if one is provided. DefenseFrameStateJudge:hit_spawn_gfx(bool) adds a hint to the defense frame state judge whether or not to spawn a hit graphic effect. DefenseFrameStateJudge:hint_spawn_gfx() - used in hitbox attack + collision func to read if the entity should obey the hint to spawn image graphics or not. Additionally, attack and collision callbacks now receive an optional last parameter judge object so you can read this hint and respond to it. Tip For those who care about mod accuracy, custom sfx during combat resolution is a must. For most people, this means you don't have to provide hit sounds in most of your mods anymore, or handle playing them. Hit.cancel is automatically added to Hit.stun , Hit.freeze , Hit.flinch , and Hit.drag . You can add a callback event to react to this. Hit.cancel can be erased by defense rules. The purpose of this flag is to cancel a chip or interrupt an enemy. This behavior used to be applied to everything that used a CardAction for attacking or behavior, but was inconsistent with the games. So now it's still \"automatic\" but you can opt-out of this behavior. For example: when viruses are stunned, they do not have their action interrupted. They continue after un-stun. However, bosses do handle interrupts. Side effects: if you are dragged and remove Hit.cancel , it's now possible to move mid-action. This may or may not be what you want, if it happens. Just handle this case. TL;DR if you're programming a virus, use virus body defense rule or remove Hit.cancel in the defense rule step. This assumes you're using CardAction -s for behaviors (correct). FullSynchro is no longer removed accidentally in places where it shouldn't be (when DefenseOrder.Always blocked the attack, or when anybody using a CardAction ). ActionOrder.Immediate now causes the last action added to go first, so queuing multiple actions with ActionOrder.Immediate will have reversed order now (FILO aka stack). Losing in PvE battles can no longer end in a draw . Either win or lose (with the exception of userAbort ). The fade time after battle was changed, for people who noticed it was different last build. The results widget now stays around while fading out. This is like the games. New title screen. May be the final title screen depending on if we get custom art by the time public release happens. bg_blue.png -> bg.png added vnum.png which you can customize but the location is pre-coded. Servers can play the email ring. Servers can provide card mod assets and cause them to load on the client. Servers can send battle rewards, which display in battle for real! There can be multiple rewards sent at the same time. Servers can tell the client to draw sprites on the screen in the overworld. Servers can toggle the HUD between health and PET. Note the PET and face shown are currently just the ones in the resource folder, but they may read from the mod in the future. New API endpoints for: Battle rewards Toggling HUD Sending emails Ringing PET Drawing sprites on screen Server sprites are drawn in an optimized manner for potentially hundreds of sprites over the network. mob:no_results() skips results presentation for tourney-style battles Asset type and package type hints (optional) when providing assets to your users (makes chip rewards work) For the sprite API, the a channel is now an alternative name for opacity channel. Sprite API supports color_mode and rgb channels. James released \"Stardust\" - a simple particle system plugin for ONB servers. Stardust API updated to support rgb color channels Added enums.lua to the server libs to start documenting enum values. Added Net.virtual_input(event={player_id, events={{name, state}}) for the server to handle input. Note Be sure to lock the player's client-side input first! Server-side sprite anims loop now like they were supposed to. When providing assets, you can now give an optional asset type and mod type on the server-side. Tip This helps resolve chips for giving them as rewards in battle.","title":"2.1 CHANGELOG"},{"location":"hardware_docs/link_gate/","text":"ONB Link Gate # Version # Release v1.2.4 Compatabile with ONB v2.5 About # The ONB Link Gate is a program that transfers chip data to the ONB client. Data is transferred in two ways: By clicking or tapping on a chip image Sending binary data over a serial port (e.g. COM1) Connecting to the ONB Client # In order to connect the Link Gate to ONB Client, the Client must be listening for the Link Gate. Launch ONB Client with the -x PORT flag where PORT is the port number of the full IP address pair IP:PORT . The address and port pair can be found in the toolbar: Additionally, the Link Gate is expecting the Client to be on localhost with port 3334 . Therefore, be sure to also run the Client with -p 3334 when using ONB Link Gate. Tip In networking the value of localhost maps to 127.0.0.1 . This is also called \"home\" or \"loopback\" because it allows a machine to ping itself in a network topology. If done correctly, the full set of flags will look like the following: onb_client.exe -x 3222 -p 3334 Change Listen Port # You can change the port that the ONB Link Gate is listening on with -l or --local . e.g. onb_link_gate.exe --local 3030 Change Client Port # You can change the port that the ONB Link Gate will send packets to with -p or --pet . e.g. onb_link_gate.exe --pet 3000 Change First Database # You can command the ONB Link Gate to open a specific database file with -d or --db . e.g. onb_link_gate.exe --db resources/advance_pet/db.csv If ONB Link Gate fails to launch, check that your file path is correct. Load Chip Database # The ONB Link Gate loads a .csv file which contains the ID of the chip, its name, its element type, damage number, and binary representation. Note CSV stands for Comma-Seperated Value and by opening the resources/db.csv file, you will see that the format is simple to edit. You can identify which database is currently loaded into ONB Link Gate from the toolbar: You can also Load a different database file or Save changes to the current active database file. Note The Save button never overwrites the original file automatically. The modal file picker will open and allow you to choose where to save your changes. Making Changes # Different chip brands have different pin readings. The pins of a chip correspond directly to a binary representation where each ON pin corresponds to the digit 1 and every OFF pin corresponds to the digit 0 . While curating a database, the binary representation of a chip may need changing. Simpy click in the binary field and type the numerical value of the binary representation. This edit field will never exceed the largest bianry value below and it will inform you if there's a conflict of identical binary values in the database. Before After Adding New Chip # When adding a new chip, be sure to add the chip icon inside the images/ directory where the db.csv file is located. # Typical folder structure resources/ \u251c\u2500 custom_library/ \u2502 \u251c\u2500 images/ \u2502 \u2502 \u251c\u2500 rune.bubbler.png \u2502 \u2502 \u251c\u2500 ... \u2502 \u251c\u2500 db.csv onb_link_gate.exe The chip icon must be the ID name exactly followed by .png . For example with a new chip entry rune.legacy.bubbler , there should be a images/rune.legacy.bubbler.png image file. Reading Chips # ONB Link Gate is prepared to read binary numbers over the serial ports from the device it is running on. All available serial ports will be populated in the dropdown from the toolbar. The currently selected port will have its connection status to the right of it. Select the dropdown and choose a serial port that will communicate to ONB Link Gate. Note that this port must be open first. When a port is connected and it reads the binary digits of a matching chip, that chip will be broadcast to ONB Client.","title":"Link gate"},{"location":"hardware_docs/link_gate/#onb-link-gate","text":"","title":"ONB Link Gate"},{"location":"hardware_docs/link_gate/#connecting-to-the-onb-client","text":"In order to connect the Link Gate to ONB Client, the Client must be listening for the Link Gate. Launch ONB Client with the -x PORT flag where PORT is the port number of the full IP address pair IP:PORT . The address and port pair can be found in the toolbar: Additionally, the Link Gate is expecting the Client to be on localhost with port 3334 . Therefore, be sure to also run the Client with -p 3334 when using ONB Link Gate. Tip In networking the value of localhost maps to 127.0.0.1 . This is also called \"home\" or \"loopback\" because it allows a machine to ping itself in a network topology. If done correctly, the full set of flags will look like the following: onb_client.exe -x 3222 -p 3334","title":"Connecting to the ONB Client"},{"location":"hardware_docs/link_gate/#load-chip-database","text":"The ONB Link Gate loads a .csv file which contains the ID of the chip, its name, its element type, damage number, and binary representation. Note CSV stands for Comma-Seperated Value and by opening the resources/db.csv file, you will see that the format is simple to edit. You can identify which database is currently loaded into ONB Link Gate from the toolbar: You can also Load a different database file or Save changes to the current active database file. Note The Save button never overwrites the original file automatically. The modal file picker will open and allow you to choose where to save your changes.","title":"Load Chip Database"},{"location":"hardware_docs/link_gate/#making-changes","text":"Different chip brands have different pin readings. The pins of a chip correspond directly to a binary representation where each ON pin corresponds to the digit 1 and every OFF pin corresponds to the digit 0 . While curating a database, the binary representation of a chip may need changing. Simpy click in the binary field and type the numerical value of the binary representation. This edit field will never exceed the largest bianry value below and it will inform you if there's a conflict of identical binary values in the database. Before After","title":"Making Changes"},{"location":"hardware_docs/link_gate/#reading-chips","text":"ONB Link Gate is prepared to read binary numbers over the serial ports from the device it is running on. All available serial ports will be populated in the dropdown from the toolbar. The currently selected port will have its connection status to the right of it. Select the dropdown and choose a serial port that will communicate to ONB Link Gate. Note that this port must be open first. When a port is connected and it reads the binary digits of a matching chip, that chip will be broadcast to ONB Client.","title":"Reading Chips"},{"location":"hardware_docs/raspi3/","text":"ARM Rasp Pi 3 On Bazzite # ARM Rasp Pi 3 On Bazzite Author About Image Tutorial Preparing Qemu Setup Credentials Resizing Tool chains System OpenSSL Rust C++ Transferring Files From Host To Container Container To Image Image To Container Container To Host Author # James King | https://github.com/TheMaverickProgrammer About # This tutorial installs a raspberry pi 3 virtual image running inside of podman on Bazzite ; configured for modern development. These instructions should also work on Fedora or other compatible unix-based operating systems. Image # I used this image: lukechilds/dockerpi pi3 . Source: https://github.com/lukechilds/dockerpi Tutorial # Preparing Qemu # These are the shell commands I ran to prepare qemu on my Bazzite host machine. sudo -i rpm-ostree install qemu-user-static systemctrl reboot Setup # We want to mount our file-system image in order to resize it later with qemu . Before we can mount the image, we need to be sure rootless podman has the correct permissions to access our host using unshare . We will create a subdirectory on our host machine that we will share and mount the file-system named .dockerpi . mkdir ./dockerpi podman unshare chown 200 :200 -R .dockerpi/ In this example, we are choosing to assign 200 as the userID given to podman later. The :Z flag is crucial on SELinux-enabled systems to allow container access to the mounted directory. We can verify that permissions were given by running unshare with -al . podman unshare ls -al .dockerpi total 4024112 drwxrwxrwx. 1 200 200 28 Nov 7 21 :17 . drwx------. 1 root root 712 Nov 7 22 :49 .. -rw-r--r--. 1 root root 8589934592 Nov 7 23 :53 filesystem.img We can see the first row has 200 in the userID columns. Now we are ready to pull and install the image to the target volume: podman run --user 200 -it -v $HOME /.dockerpi:/sdcard:Z \\ lukechilds/dockerpi pi3 This will take some time. Once the setup is finished, enter the default pi credentials. Credentials # user: pi pass: raspberry One the system has authorized and given control over to shell, check to see if the environment looks healthy. Then, power off the container. The file-system will persist. sudo poweroff The pi3 image is experimental and has issues on shutdown. Once you see the shutdown process is reached, it should hang. This is expected. Simply stop the container using podman in another terminal. Resizing # The default pi image is too small for modern development. We are going to use qemu-img to resize the image and then update the boot sectors of the image to adapt to the new size. In this example, the new size is 10G . sudo qemu-img resize -f raw $HOME /.dockerpi/filesystem.img 10G startsector = $( fdisk -u -l $HOME /.dockerpi/filesystem.img | grep filesystem.img2 | awk '{print $2 }' ) Verify that startsector has the new address. echo $startsector 532480 Then use parted to make a new partition in the image. sudo parted $HOME /.dockerpi/filesystem.img --script rm 2 sudo parted $HOME /.dockerpi/filesystem.img --script \"mkpart primary ext2 ${ startsector }s -1s\" Now restart the container. Reminder that this container will automatically launch a shell inside the pi image. podman run -it -v $HOME /.dockerpi:/sdcard:Z lukechilds/dockerpi pi3 -u 200 When you are back inside the pi's shell, identify the device to resize. This may be similar to the MBR name. In the example below, the boot partition was mmcblk0p1 and the partition we should resize is mmcblk0p2 . sudo fdisk -l Device Boot Start End Sectors Size Id Type /dev/mmcblk0p1 8192 532479 524288 256M c W95 FAT32 ( LBA ) /dev/mmcblk0p2 532480 20971519 20439040 9 .8G 83 Linux Resize the partition to the new size given to qemu earlier. Note that the following example, the author only gave it 6G of the full 10G , but this is not recommended. sudo resize2fs /dev/mmcblk0p2 6G Confirm that your file-system can see the new memory. dh -f Filesystem Size Used Avail Use% Mounted on /dev/root 5 .9G 2 .7G 3 .0G 47 % / This concludes the resizing steps. Further reading https://stackoverflow.com/questions/68101936/how-to-increase-the-size-of-dev-root-on-a-docker-image-on-a-raspberry-pi/68328492#68328492 Tool chains # In order to build anything, we need to have the right system packages installed. System # First we need to update our raspi OS package manager and system binaries before we run the commands to setup any necessary tool chains. While still inside the pi, run: sudo apt get update sudo apt upgrade Reboot the image. It's a good idea to install git once you log back into the pi. sudo apt get install git OpenSSL # We need AARCH64 libs for OpenSSL. sudo apt-get install -y openssl:armhf sudo apt-get install -y libssl-dev:armhf This concludes the system setup. Rust # For ONB servers run this install script for ARM. curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh Add cargo to user's environment. source $HOME /.cargo/env Confirm Rust is installed. rustc --version rustc 1 .91.0 ( f8297e351 2025 -10-28 ) With the tool-chains and dependencies installed, the server can be compiled with: cargo build --release C++ # TODO Transferring Files # There are three layers composing this virtualization of pi3: 1. The user's host machine running podman. 2. Podman running the container. 3. The container running the raspi image via qemu. From Host To Container # In order to share programs built within in the image back to the host, we need a way to access the file-system; this time as a local volume. In terminal of the host machine, identify the container to mount. podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2443e4c8876e docker.io/lukechilds/dockerpi:latest pi3 -u 200 2 hours ago Up 2 hours loving_mccarthy For convenience, define a variable to hold the path to the mounted volume. mnt = $( podman mount CONTAINERID ) If you get an error that podman must execute unshare first, run podman unshare and try again. Now we can treat this path as a native path in our host machine's terminal. For example: cp -R ${ mnt } /etc/foobar /tmp This command will copy /etc/foobar in the container's file-system to host's /tmp directory. Whenever you're done, umount the volume. podman umount CONTAINERID Use podman to restart the container or sudo reboot if you have a session within the container. Once more, start up the container. Next, we want to wget our files over the virtual network device and we need to determine what our container IP address is for the pi image. Run podman ps to find the name of the container we want to enter via sh . podman ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES bd151c72b97a docker.io/lukechilds/dockerpi:latest pi3 -u 200 11 hours ago Up 11 hours jovial_murdock In this example, the name is jovial_murdock . podman exec -it jovial_murdock /bin/sh Finally run ifconfig to see how the container identifies itself to the qemu image. wlp2s0 Link encap:Ethernet HWaddr A6:F6:04:6F:1E:6A inet addr:192.168.0.110 Bcast:192.168.0.255 Mask:255.255.255.0 Container To Image # Because we equipped qemu with a network device earlier, back inside the raspberry image, we can use wget on the IP address to download the file in the container. wget 192 .168.0.110/<FILE> Image To Container # If we ever need to perform the reverse operation - that is, exporting files from within our qemu image back into the container - we use curl to upload files over the network to the container's ftp server. If the pi image had ftpd installed we could have used curl for downloading files too, but I didn't know that at the time of writing this tutorial. In the container, bind a tcp socket and run ftpd on it exposing the /sdcard path we used earlier. tcpsvd -vE 0 .0.0.0 21 ftpd -w -A /sdcard Back in the pi shell, curl -T to the IP we identified earlier in order to send the file. Note that we explicitly use the :21 port for both the tcp service and the curl commands. curl -T /<FILE> ftp://192.168.0.110:21 Be sure that <FILE> is the absolute path to the file you wish to upload. When the transfer(s) is/are complete, you can terminate the tcpsvd process. Container To Host # Because we mounted the container volume earlier in this tutorial, our work is now trivial. We can easily fetch that output file from our host machine. This was shown in the very first steps of this section. For convenience, another example is provided. cp .dockerpi/<FILE> ~/Desktop/","title":"Raspi3"},{"location":"hardware_docs/raspi3/#arm-rasp-pi-3-on-bazzite","text":"ARM Rasp Pi 3 On Bazzite Author About Image Tutorial Preparing Qemu Setup Credentials Resizing Tool chains System OpenSSL Rust C++ Transferring Files From Host To Container Container To Image Image To Container Container To Host","title":"ARM Rasp Pi 3 On Bazzite"},{"location":"hardware_docs/raspi3/#tutorial","text":"","title":"Tutorial"},{"location":"hardware_docs/raspi3/#tool-chains","text":"In order to build anything, we need to have the right system packages installed.","title":"Tool chains"},{"location":"hardware_docs/raspi3/#transferring-files","text":"There are three layers composing this virtualization of pi3: 1. The user's host machine running podman. 2. Podman running the container. 3. The container running the raspi image via qemu.","title":"Transferring Files"}]}